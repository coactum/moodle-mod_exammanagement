define("mod_exammanagement/participants_overview",["exports","jquery"],(function(_exports,_jquery){var obj;
/**
   * Participants overview page.
   *
   * @module      mod_exammanagement/import_bonus
   * @copyright   2022 coactum GmbH
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};_exports.init=tasks=>{(0,_jquery.default)("form.mform input[type=text]").attr("type","number");(0,_jquery.default)("form.mform input[type=number]").css({"-webkit-appearance":"textfield","-moz-appearance":"textfield","margin-left":"10px",width:"70px"}),(0,_jquery.default)("form.mform input[type=number]").attr("step","0.01"),(0,_jquery.default)("form.mform input[type=number]").attr("min","0"),0!==(0,_jquery.default)("[id^=id_points]").length?(0,_jquery.default)("[id^=id_points]").first().focus():(0,_jquery.default)("[id^=id_bonuspoints]").first().focus(),(0,_jquery.default)("[id^=id_points]").each((function(){var participantid=(0,_jquery.default)(this).attr("id").split("_")[2],count=(0,_jquery.default)(this).attr("id").split("_")[3];(0,_jquery.default)(this).attr("max",tasks[count]),"normal"!==(0,_jquery.default)("#id_state_"+participantid).val()&&"not_set"!==(0,_jquery.default)("#id_state_"+participantid).val()&&(0,_jquery.default)(this).prop("disabled",!0)})),(0,_jquery.default)("[id^=id_bonuspoints]").each((function(){var participantid=(0,_jquery.default)(this).attr("id").split("_")[2];(0,_jquery.default)("#id_bonussteps_"+participantid).val()&&"-"!==(0,_jquery.default)("#id_bonussteps_"+participantid).val()&&(0,_jquery.default)(this).prop("disabled",!0)})),(0,_jquery.default)("[id^=id_bonussteps]").change((function(){var participantid=(0,_jquery.default)(this).attr("id").split("_")[2];"-"!==(0,_jquery.default)(this).val()?((0,_jquery.default)("#id_bonuspoints_"+participantid).val("-"),(0,_jquery.default)("#id_bonuspoints_"+participantid).prop("disabled",!0)):(0,_jquery.default)("#id_bonuspoints_"+participantid).prop("disabled",!1),(0,_jquery.default)("#id_state_"+participantid).focus(),(0,_jquery.default)('input[name="bonuspoints_entered['+participantid+']"]').val(0)})),(0,_jquery.default)("[id^=id_bonuspoints]").change((function(){var participantid=(0,_jquery.default)(this).attr("id").split("_")[2];(0,_jquery.default)(this).val()&&((0,_jquery.default)("#id_bonussteps_"+participantid).val("-"),(0,_jquery.default)("#id_state_"+participantid).focus(),(0,_jquery.default)('input[name="bonuspoints_entered['+participantid+']"]').val(1))})),(0,_jquery.default)("[id^=id_points]").change((function(){var participantid=(0,_jquery.default)(this).attr("id").split("_")[2];(0,_jquery.default)("#id_state_"+participantid).val("normal")})),(0,_jquery.default)("[id^=id_state]").change((function(){var participantid=(0,_jquery.default)(this).attr("id").split("_")[2];"normal"!==(0,_jquery.default)(this).val()&&"not_set"!==(0,_jquery.default)(this).val()?(0,_jquery.default)("[id^=id_points_"+participantid+"]").each((function(){(0,_jquery.default)(this).prop("disabled",!0),(0,_jquery.default)(this).val(0)})):"normal"===(0,_jquery.default)(this).val()?(0,_jquery.default)("[id^=id_points_"+participantid+"]").each((function(){(0,_jquery.default)(this).prop("disabled",!1),(0,_jquery.default)("[id^=id_points_"+participantid).first().focus()})):"not_set"==(0,_jquery.default)(this).val()&&(0,_jquery.default)("[id^=id_points_"+participantid+"]").each((function(){(0,_jquery.default)(this).val(""),(0,_jquery.default)(this).prop("disabled",!1),(0,_jquery.default)("[id^=id_points_"+participantid).first().focus()}))})),(0,_jquery.default)(".exammanagement_table div").removeClass("col-md-3"),(0,_jquery.default)(".exammanagement_table div").removeClass("col-md-9"),(0,_jquery.default)("form.mform #id_submitbutton").click((function(){(0,_jquery.default)("form.mform .form-group input.form-control").not("[id^=id_bonuspoints]").each((function(){(0,_jquery.default)(this).prop("disabled",!1)}))}))}}));

//# sourceMappingURL=participants_overview.min.js.map