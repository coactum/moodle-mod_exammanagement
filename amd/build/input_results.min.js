define ("mod_exammanagement/input_results",["jquery","core/notification"],function(a){var b=function(a){var b=a.attr("id").split("_").pop();return b},c=function(){var c=0;a("form.mform .form-group input.form-control").each(function(){if("matrnr"!=b(a(this))&&a(this).val()){c+=parseFloat(a(this).val().replace(",","."))}});return(c.toFixed(2)+"").replace(".",",")},d=function(a){var b=decodeURIComponent(window.location.search.substring(1)),c=b.split("&"),d,e;for(e=0;e<c.length;e++){d=c[e].split("=");if(d[0]===a){return d[1]===void 0?!0:d[1]}}};return{init:function init(){var e=a("#id_matrnr").val();if(e){a("#id_matrnr").prop("disabled",!0)}a("form.mform input[type=text]:not(#id_matrnr)").attr("type","number");a("#fgroup_id_points_array input[type=number]:not(#id_matrnr)").css({"-webkit-appearance":"textfield","-moz-appearance":"textfield",margin:"0px",width:"70px"});a("#fgroup_id_points_array input[type=number]:not(#id_matrnr)").attr("step","0.01");a("#fgroup_id_points_array nput[type=number]:not(#id_matrnr)").attr("min","0");a("#fgroup_id_points_array input[type=number]:not(#id_matrnr)").each(function(){a(this).attr("max",parseFloat(a("#max_points_"+b(a(this))).text().replace(/,/g,".")))});a("form.mform .form-group input.checkboxgroup1").each(function(){if(a(this).prop("checked")){a("form.mform .form-group input.form-control").each(function(){if("matrnr"!=b(a(this))){a(this).prop("disabled",!0)}})}});a("#totalpoints").text(c());a("form.mform :checkbox").change(function(){var c=!1,d=a(this).prop("id");a("form.mform .form-group input.checkboxgroup1").each(function(){if(a(this).prop("checked")){c=!0}});if(c){if("id_state_nt"==d){a("#id_state_fa").prop("checked",!1);a("#id_state_ill").prop("checked",!1)}else if("id_state_fa"==d){a("#id_state_nt").prop("checked",!1);a("#id_state_ill").prop("checked",!1)}else if("id_state_ill"==d){a("#id_state_nt").prop("checked",!1);a("#id_state_fa").prop("checked",!1)}a("form.mform .form-group input.form-control").each(function(){if("matrnr"!=b(a(this))){a(this).prop("disabled",!0);a(this).val(0)}})}else{a("form.mform .form-group input.form-control").each(function(){if("matrnr"!=b(a(this))){a(this).prop("disabled",!1)}})}});a("form.mform .form-group").on("change","input",function(){a("#totalpoints").text(c())});a("#id_matrnr").change(function(){var b=a(this).val(),c=d("id");if(b.match(/^\d+$/)){location.href="inputResults.php?id="+c+"&matrnr="+b}else{a(this).val("");require(["core/notification"],function(a){a.addNotification({message:"Keine g\xFCltiges Matrikelnummernformat",type:"error"})})}});if(1==a("input[name='matrval']").val()){a("#id_matrnr").focus()}else{a("#id_points_1").focus()}a("#id_submitbutton").click(function(){a("#id_matrnr").prop("disabled",!1)});a("#id_cancel").val("Zur\xFCck zur Pr\xFCfungsorganisation");var f=a("input[name=\"lastkeypoints\"]").val();a("form.mform input[name^=\"points[\"]").keypress(function(b){if(13==b.which||3==b.which){var c=a(this).attr("name"),d=parseInt(c.match(/\d+/))+1;b.preventDefault();a("input[name=\"points["+d+"]\"]").focus()}});a("input[name=\"points["+f+"]\"]").keydown(function(b){if(9==b.which||13==b.which||3==b.which){a("#id_matrnr").prop("disabled",!1);a("form.mform").submit();return!1}})}}});
//# sourceMappingURL=input_results.min.js.map
