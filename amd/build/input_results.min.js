define(["jquery","core/notification"],function(a){var b=function(a){var b=a.attr("id").split("_").pop();return b},c=function(){var c=0;return a(".form-group input.form-control").each(function(){"matrnr"!=b(a(this))&&a(this).val()&&(c+=parseFloat(a(this).val().replace(",",".")))}),String(c.toFixed(2)).replace(".",",")},d=function(a){var b,c,d=decodeURIComponent(window.location.search.substring(1)),e=d.split("&");for(c=0;c<e.length;c++)if(b=e[c].split("="),b[0]===a)return void 0===b[1]||b[1]};return{init:function(){var e=a("#id_matrnr").val();e&&a("#id_matrnr").prop("disabled",!0),a("input[type=text]:not(#id_matrnr)").attr("type","number");var f={"-webkit-appearance":"textfield","-moz-appearance":"textfield",margin:"0px",width:"70px"};a("input[type=number]:not(#id_matrnr)").css(f),a("input[type=number]:not(#id_matrnr)").attr("step","0.01"),a("input[type=number]:not(#id_matrnr)").attr("min","0"),a("input[type=number]:not(#id_matrnr)").each(function(){a(this).attr("max",parseFloat(a("#max_points_"+b(a(this))).text().replace(/,/g,".")))}),a(".form-group input.checkboxgroup1").each(function(){a(this).prop("checked")&&a(".form-group input.form-control").each(function(){"matrnr"!=b(a(this))&&a(this).prop("disabled",!0)})}),a("#totalpoints").text(c()),a(":checkbox").change(function(){var c=!1,d=a(this).prop("id");a(".form-group input.checkboxgroup1").each(function(){a(this).prop("checked")&&(c=!0)}),c?("id_state_nt"==d?(a("#id_state_fa").prop("checked",!1),a("#id_state_ill").prop("checked",!1)):"id_state_fa"==d?(a("#id_state_nt").prop("checked",!1),a("#id_state_ill").prop("checked",!1)):"id_state_ill"==d&&(a("#id_state_nt").prop("checked",!1),a("#id_state_fa").prop("checked",!1)),a(".form-group input.form-control").each(function(){"matrnr"!=b(a(this))&&(a(this).prop("disabled",!0),a(this).val(0))})):a(".form-group input.form-control").each(function(){"matrnr"!=b(a(this))&&a(this).prop("disabled",!1)})}),a(".form-group").on("change","input",function(){a("#totalpoints").text(c())}),a("#id_matrnr").change(function(){var b=a(this).val(),c=d("id");b.match(/^\d+$/)?location.href="inputResults.php?id="+c+"&matrnr="+b:(a(this).val(""),require(["core/notification"],function(a){a.addNotification({message:"Keine gültiges Matrikelnummernformat",type:"error"})}))}),1==a("input[name='matrval']").val()?a("#id_matrnr").focus():a("#id_points_1").focus(),a("#id_submitbutton").click(function(){a("#id_matrnr").prop("disabled",!1)}),a("#id_cancel").val("Zurück zur Prüfungsorganisation")}}});