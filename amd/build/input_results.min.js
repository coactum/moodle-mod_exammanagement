define ("mod_exammanagement/input_results",["exports","jquery"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var c=function(a){var c=(0,b.default)("#id_matrnr").val();if(c){(0,b.default)("#id_matrnr").prop("disabled",!0)}(0,b.default)("form.mform input[type=text]:not(#id_matrnr)").attr("type","number");(0,b.default)("#fgroup_id_points_array input[type=number]:not(#id_matrnr)").css({"-webkit-appearance":"textfield","-moz-appearance":"textfield",margin:"0px",width:"70px"});(0,b.default)("#fgroup_id_points_array input[type=number]:not(#id_matrnr)").attr("step","0.01");(0,b.default)("#fgroup_id_points_array nput[type=number]:not(#id_matrnr)").attr("min","0");(0,b.default)("#fgroup_id_points_array input[type=number]:not(#id_matrnr)").each(function(){(0,b.default)(this).attr("max",parseFloat((0,b.default)("#max_points_"+e((0,b.default)(this))).text().replace(/,/g,".")))});(0,b.default)("form.mform .form-group input.checkboxgroup1").each(function(){if((0,b.default)(this).prop("checked")){(0,b.default)("form.mform .form-group input.form-control").each(function(){if("matrnr"!=e((0,b.default)(this))){(0,b.default)(this).prop("disabled",!0)}})}});(0,b.default)("#totalpoints").text(f(a));(0,b.default)("form.mform :checkbox").change(function(){var a=!1,c=(0,b.default)(this).prop("id");(0,b.default)("form.mform .form-group input.checkboxgroup1").each(function(){if((0,b.default)(this).prop("checked")){a=!0}});if(a){if("id_state_nt"==c){(0,b.default)("#id_state_fa").prop("checked",!1);(0,b.default)("#id_state_ill").prop("checked",!1)}else if("id_state_fa"==c){(0,b.default)("#id_state_nt").prop("checked",!1);(0,b.default)("#id_state_ill").prop("checked",!1)}else if("id_state_ill"==c){(0,b.default)("#id_state_nt").prop("checked",!1);(0,b.default)("#id_state_fa").prop("checked",!1)}(0,b.default)("form.mform .form-group input.form-control").each(function(){if("matrnr"!=e((0,b.default)(this))){(0,b.default)(this).prop("disabled",!0);(0,b.default)(this).val(0)}})}else{(0,b.default)("form.mform .form-group input.form-control").each(function(){if("matrnr"!=e((0,b.default)(this))){(0,b.default)(this).prop("disabled",!1)}})}});(0,b.default)("form.mform .form-group").on("change","input",function(){(0,b.default)("#totalpoints").text(f(a))});(0,b.default)("#id_matrnr").change(function(){var a=(0,b.default)(this).val(),c=g("id");if(a.match(/^\d+$/)){location.href="inputResults.php?id="+c+"&matrnr="+a}else{(0,b.default)(this).val("");require(["core/notification"],function(a){a.addNotification({message:d,type:"error"})})}});if(1==(0,b.default)("input[name='matrval']").val()){(0,b.default)("#id_matrnr").focus()}else{(0,b.default)("#id_points_1").focus()}(0,b.default)("#id_submitbutton").click(function(){(0,b.default)("#id_matrnr").prop("disabled",!1)});var h=(0,b.default)("input[name=\"lastkeypoints\"]").val();(0,b.default)("form.mform input[name^=\"points[\"]").keypress(function(a){if(13==a.which||3==a.which){var c=(0,b.default)(this).attr("name"),d=parseInt(c.match(/\d+/))+1;a.preventDefault();(0,b.default)("input[name=\"points["+d+"]\"]").focus()}});(0,b.default)("input[name=\"points["+h+"]\"]").keydown(function(a){if(9==a.which||13==a.which||3==a.which){(0,b.default)("#id_matrnr").prop("disabled",!1);(0,b.default)("form.mform").submit();return!1}})};a.init=c;var d=!1;require(["core/str"],function(a){a.get_strings([{key:"invalid_matrnr_format",component:"mod_exammanagement"},{key:"cancel",component:"mod_exammanagement"}]).then(function(a){d=a[0];(0,b.default)("#id_cancel").val(a[1])})});var e=function(a){var b=a.attr("id").split("_").pop();return b},f=function(a){var c=0;(0,b.default)("form.mform .form-group input.form-control").each(function(){if("matrnr"!=e((0,b.default)(this))&&(0,b.default)(this).val()){c+=parseFloat((0,b.default)(this).val())}});c=c.toLocaleString(a);return c},g=function(a){var b=decodeURIComponent(window.location.search.substring(1)),c=b.split("&"),d,e;for(e=0;e<c.length;e++){d=c[e].split("=");if(d[0]===a){return d[1]===void 0?!0:d[1]}}}});
//# sourceMappingURL=input_results.min.js.map
