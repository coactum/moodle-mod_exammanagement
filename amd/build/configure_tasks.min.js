define ("mod_exammanagement/configure_tasks",["exports","jquery"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.removetask=a.addtask=a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var c=function(a){(0,b.default)("form.mform input[type=text]").attr("type","number");(0,b.default)("form.mform input[type=number]").css({"-webkit-appearance":"textfield","-moz-appearance":"textfield",margin:"0px",width:"70px"});(0,b.default)("form.mform input[type=number]").attr("step","0.01");(0,b.default)("form.mform input[type=number]").attr("min","0.01");(0,b.default)("form.mform input[type=number]").attr("max","100");(0,b.default)("form.mform .form-group").on("change","input",function(){var c=f(a);(0,b.default)("#totalpoints").text(c)})};a.init=c;var d=function(a){(0,b.default)("#id_add_task").click(function(){var c=g(),d=c+1;if(44>=c){var e="<div class=\"form-group  fitem  \">";e+="<label class=\"col-form-label sr-only\" for=\"id_task_"+d+"\"></label><span data-fieldtype=\"text\">";e+="<input class=\"form-control\" name=\"task["+d+"]\" id=\"id_task_"+d+"\" value=\"";e+=10+"\" size=\"1\" type=\"number\" style=\"-webkit-appearance: textfield; -moz-appearance:textfield; ";e+="margin: 0px; width: 70px;\" step=\"0.01\" min=\"0\" max=\"100\"></span>";e+="<div class=\"form-control-feedback\" id=\"id_error_task[";e+=d+"]\" style=\"display: none;\"></div></div> ";(0,b.default)("div[data-groupname='tasknumbers_array'] .col-md-9 fieldset div.d-flex").append("<span class=\"exammanagement_task_spacing\"><strong>"+d+"</strong></span>");(0,b.default)("div[data-groupname='tasks_array'] .col-md-9 fieldset div.d-flex").append(e);var h=f(a);(0,b.default)("#totalpoints").text(h);(0,b.default)("input[name=newtaskcount]").val(parseInt((0,b.default)("input[name=newtaskcount]").val())+1)}})};a.addtask=d;var e=function(a){(0,b.default)("#id_remove_task").click(function(){var c=g();if(1<c){(0,b.default)("div[data-groupname='tasknumbers_array'] .col-md-9 fieldset div.d-flex span:last").remove();(0,b.default)("div[data-groupname='tasks_array'] .col-md-9 fieldset div.d-flex .form-group:last").remove();var d=f(a);(0,b.default)("#totalpoints").text(d);(0,b.default)("input[name=newtaskcount]").val(parseInt((0,b.default)("input[name=newtaskcount]").val()-1))}})};a.removetask=e;var f=function(a){var c=0,d;(0,b.default)(".form-group input.form-control").each(function(){d=parseFloat((0,b.default)(this).val());if(d){c+=d}});c=c.toLocaleString(a);return c},g=function(){var a=0;(0,b.default)("form.mform .form-group input.form-control").each(function(){a+=1});return a}});
//# sourceMappingURL=configure_tasks.min.js.map
