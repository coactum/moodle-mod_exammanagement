define ("mod_exammanagement/configure_tasks",["exports","jquery"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.removetask=a.addtask=a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var c=function(a){(0,b.default)("form.mform input[type=text]").attr("type","number");(0,b.default)("form.mform input[type=number]").css({"-webkit-appearance":"textfield","-moz-appearance":"textfield",margin:"0px"});(0,b.default)("form.mform input[type=number]").attr("step","0.01");(0,b.default)("form.mform input[type=number]").attr("min","0.01");(0,b.default)("form.mform input[type=number]").attr("max","100");(0,b.default)(".exammanagement_task_spacing .form-group div").removeClass("col-md-3");(0,b.default)(".exammanagement_task_spacing .form-group div").removeClass("col-md-9");(0,b.default)(".exammanagement_task_spacing .form-group").removeClass("row");(0,b.default)("form.mform .form-group").on("change","input",function(){var c=f(a);(0,b.default)("#totalpoints").text(c)})};a.init=c;var d=function(a){(0,b.default)("#id_add_task").click(function(){var c=g(),d=c+1;if(44>=c){var e="<span class=\"exammanagement_task_spacing\">";e+="<strong>"+d+"</strong><div id=\"fitem_id_task_1\" class=\"form-group fitem femptylabel\">";e+="<div class=\"col-form-label d-flex pb-0 pr-md-0\">";e+="<div class=\"ml-1 ml-md-auto d-flex align-items-center align-self-start\"></div></div>";e+="<div class=\"form-inline align-items-start felement\" data-fieldtype=\"text\">";e+="<input type=\"number\" class=\"form-control\" name=\"task["+d+"]\" id=\"id_task_"+d+"\" ";e+="value=\""+10+"\" style=\"appearance: textfield; margin: 0px;\" step=\"0.01\" min=\"0.01\" max=\"100\">";e+="<div class=\"form-control-feedback invalid-feedback\" id=\"id_error_task_"+d+"\">";e+="</div></div></div></span>";(0,b.default)(".mform .tasksarea").append(e);var h=f(a);(0,b.default)("#totalpoints").text(h);(0,b.default)("input[name=newtaskcount]").val(parseInt((0,b.default)("input[name=newtaskcount]").val())+1)}})};a.addtask=d;var e=function(a){(0,b.default)("#id_remove_task").click(function(){var c=g();if(1<c){(0,b.default)(".mform .tasksarea span:last").remove();var d=f(a);(0,b.default)("#totalpoints").text(d);(0,b.default)("input[name=newtaskcount]").val(parseInt((0,b.default)("input[name=newtaskcount]").val()-1))}})};a.removetask=e;var f=function(a){var c=0,d;(0,b.default)(".form-group input.form-control").each(function(){d=parseFloat((0,b.default)(this).val());if(d){c+=d}});c=c.toLocaleString(a);return c},g=function(){var a=0;(0,b.default)("form.mform .exammanagement_task_spacing").each(function(){a+=1});return a}});
//# sourceMappingURL=configure_tasks.min.js.map
