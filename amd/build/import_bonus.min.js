define("mod_exammanagement/import_bonus",["exports","jquery"],(function(_exports,_jquery){var obj;
/**
   * Adding and removing bonus steps and creating input type number fields.
   *
   * @module      mod_exammanagement/import_bonus
   * @copyright   2022 coactum GmbH
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.removebonusstep=_exports.init=_exports.addbonusstep=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};_exports.init=()=>{(0,_jquery.default)("form.mform input[type=text]").not("#id_idfield, #id_pointsfield").attr("type","number");(0,_jquery.default)("form.mform input[type=number]").css({"-webkit-appearance":"textfield","-moz-appearance":"textfield",margin:"0px",width:"70px"}),(0,_jquery.default)("form.mform input[type=number]").attr("step","0.01"),(0,_jquery.default)("form.mform input[type=number]").attr("min","0"),(0,_jquery.default)("#import_bonuspoints_text").hide(),(0,_jquery.default)("#id_bonusmode").change((function(){"points"==this.value?((0,_jquery.default)("#set_bonussteps").hide(),(0,_jquery.default)("#import_bonuspoints_text").show()):"steps"==this.value&&((0,_jquery.default)("#set_bonussteps").show(),(0,_jquery.default)("#import_bonuspoints_text").hide())}))};_exports.addbonusstep=()=>{(0,_jquery.default)("#id_add_bonusstep").click((function(){var bonusstepcount=getBonusstepCount(),newbonusstepcount=bonusstepcount+1;if(bonusstepcount<3){var temp='<div class="form-group fitem">';temp+='<label class="col-form-label sr-only" for="id_bonussteppoints_'+newbonusstepcount+'"></label><span data-fieldtype="text">',temp+='<input class="form-control" name="bonussteppoints['+newbonusstepcount+']" id="id_bonussteppoints_'+newbonusstepcount+'" value="',temp+='" size="1" type="number" style="-webkit-appearance: textfield; -moz-appearance:textfield; ',temp+='margin: 0px; width: 70px;" min="0" step="0.01"></span>',temp+='<div class="form-control-feedback" id="id_error_bonussteppoints[',temp+=newbonusstepcount+']" style="display: none;"></div></div> ',(0,_jquery.default)("div[data-groupname='bonussstepnumbers_array'] .col-md-9 fieldset div.d-flex").append('<span class="exammanagement_task_spacing"><strong>'+newbonusstepcount+"</strong></span>"),(0,_jquery.default)("div[data-groupname='bonussteppoints_array']  .col-md-9 fieldset div.d-flex").append(temp),(0,_jquery.default)("input[name=bonusstepcount]").val(parseInt((0,_jquery.default)("input[name=bonusstepcount]").val())+1)}}))};_exports.removebonusstep=()=>{(0,_jquery.default)("#id_remove_bonusstep").click((function(){getBonusstepCount()>1&&((0,_jquery.default)("div[data-groupname='bonussstepnumbers_array'] .col-md-9 fieldset div.d-flex span:last").remove(),(0,_jquery.default)("div[data-groupname='bonussteppoints_array'] .col-md-9 fieldset div.d-flex .form-group:last").remove(),(0,_jquery.default)("input[name=bonusstepcount]").val(parseInt((0,_jquery.default)("input[name=bonusstepcount]").val()-1)))}))};var getBonusstepCount=function(){var bonusstepcount=0;return(0,_jquery.default)("form.mform .form-group input.form-control").not("#id_idfield, #id_pointsfield").each((function(){bonusstepcount+=1})),bonusstepcount}}));

//# sourceMappingURL=import_bonus.min.js.map